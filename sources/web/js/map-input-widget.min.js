function MapInputWidgetManager(){const b=".garixi-map-input-widget";var a=this;var c=Array();var e=function(f){if(!$(f).data("initialized")){var g=new MapInputWidget(f);g.initialize();return g}return null};var d=function(g){var f=g.getId();c[f]=g};this.initializeWidgets=function(){$(b).each(function(f,g){var h=e(g);if(h){d(h)}})};this.getWidget=function(f){var g=c[f];return g}}function MapInputWidget(g){const n="input.garixi-map-input-widget-input";const i="div.garixi-map-input-widget-canvas";var q=this;var o;var c;var b;var p=function(){o=$(g).find(n).get(0);c=$(g).find(i).get(0)};var a=function(){b=new google.maps.Map(c,{mapTypeId:$(g).data("map-type"),center:h(),zoom:$(g).data("zoom"),styles:[{featureType:"poi",stylers:[{visibility:"off",},],},],mapTypeControlOptions:{mapTypeIds:[],},});google.maps.event.addListener(b,"click",function(r){q.setPosition({latitude:r.latLng.lat(),longitude:r.latLng.lng(),})})};var e=function(){var r=k();q.setPosition(r);$(g).data("initialized",true)};var m=function(s){var t=j();var r=d(s);t=t.replace(/%latitude%/g,r.lat());t=t.replace(/%longitude%/g,r.lng());return t};var l=function(){var r=$(o).prop("value")!="";return r};var k=function(){var A;var w=j();var y=$(o).prop("value");if(y!==""){var u=w.indexOf("%latitude%");var x=w.indexOf("%longitude%");var s=u<x;var t=s?0:1;var v=s?1:0;var z=y.match(/-?\d+(\.\d+)?/g)[t];var r=y.match(/-?\d+(\.\d+)?/g)[v];A=new google.maps.LatLng(z,r)}else{A=null}return A};var f=function(){var t=$(g).data("latitude");var s=$(g).data("longitude");var r=new google.maps.LatLng(t,s);return r};var h=function(){var r;if(l()){r=k()}else{r=f()}return r};var j=function(){var r=$(g).data("pattern");return r};var d=function(s){var r;if(s.latitude!==undefined&&s.longitude!==undefined){var u=s.latitude;var t=s.longitude;r=new google.maps.LatLng(u,t)}else{r=s}return r};this.initialize=function(){p();a();e()};this.getId=function(){var r=$(g).prop("id");return r};this.setPosition=function(s){if(b.marker){b.marker.setMap(null)}if(s===null){$(o).prop("disabled",true);return}else{$(o).prop("disabled",false)}var r=d(s);if($(g).data("align-map-center")===1){b.panTo(r)}var u=null;if($(g).data("animate-marker")===1){u=google.maps.Animation.DROP}b.marker=new google.maps.Marker({map:b,position:r,draggable:true,animation:u,});google.maps.event.addListener(b.marker,"dragend",function(){q.setPosition(this.getPosition())});var t=$(g).data("pattern");var v=m(r);$(o).prop("value",v)};this.panTo=function(s){var r=d(s);b.panTo(r)};this.setZoom=function(r){b.setZoom(r)}}var mapInputWidgetManager;$(window).load(function(){mapInputWidgetManager=new MapInputWidgetManager();mapInputWidgetManager.initializeWidgets()});